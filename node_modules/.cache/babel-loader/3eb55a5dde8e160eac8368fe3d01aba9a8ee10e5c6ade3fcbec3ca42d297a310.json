{"ast":null,"code":"import _toConsumableArray from\"C:/Users/HP/Desktop/reactbal/Reactjs_project/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/HP/Desktop/reactbal/Reactjs_project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import\"./App.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),selectedImages=_useState2[0],setSelectedImages=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),selectedImageIndexes=_useState4[0],setSelectedImageIndexes=_useState4[1];var onSelectFile=function onSelectFile(event){var selectedFiles=event.target.files;if(selectedFiles&&selectedFiles.length>0){var selectedFilesArray=Array.from(selectedFiles);var imagesArray=selectedFilesArray.map(function(file){return URL.createObjectURL(file);});setSelectedImages(function(previousImages){return previousImages.concat(imagesArray);});event.target.value=\"\";}};function deleteHandler(image){setSelectedImages(function(previousImages){return previousImages.filter(function(e){return e!==image;});});URL.revokeObjectURL(image);}var toggleImageSelection=function toggleImageSelection(index){var updatedSelectedImageIndexes=_toConsumableArray(selectedImageIndexes);if(updatedSelectedImageIndexes.includes(index)){updatedSelectedImageIndexes.splice(updatedSelectedImageIndexes.indexOf(index),1);}else{updatedSelectedImageIndexes.push(index);}setSelectedImageIndexes(updatedSelectedImageIndexes);};var handleDragStart=function handleDragStart(e,index){e.dataTransfer.setData(\"index\",index);};var handleDragOver=function handleDragOver(e,index){e.preventDefault();};var handleDrop=function handleDrop(e,index){e.preventDefault();var dragIndex=e.dataTransfer.getData(\"index\");var updatedImages=_toConsumableArray(selectedImages);var movedImage=updatedImages[dragIndex];updatedImages.splice(dragIndex,1);updatedImages.splice(index,0,movedImage);setSelectedImages(updatedImages);};var deleteSelectedImages=function deleteSelectedImages(){var imagesToDelete=selectedImageIndexes.map(function(index){return selectedImages[index];});setSelectedImages(function(previousImages){return previousImages.filter(function(image){return!imagesToDelete.includes(image);});});imagesToDelete.forEach(function(image){URL.revokeObjectURL(image);});setSelectedImageIndexes([]);};return/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"images\",children:selectedImages&&selectedImages.map(function(image,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"image\",draggable:true,onDragStart:function onDragStart(e){return handleDragStart(e,index);},onDragOver:function onDragOver(e){return handleDragOver(e,index);},onDrop:function onDrop(e){return handleDrop(e,index);},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onChange:function onChange(){return toggleImageSelection(index);},checked:selectedImageIndexes.includes(index)}),/*#__PURE__*/_jsx(\"img\",{src:image,height:\"200\",alt:\"upload\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return deleteHandler(image);},children:\"X\"}),/*#__PURE__*/_jsx(\"p\",{children:index+1})]},image);})}),/*#__PURE__*/_jsxs(\"label\",{children:[\"+ Add Images\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"images\",onChange:onSelectFile,multiple:true,accept:\"image/png, image/jpeg, image/webp\"})]}),/*#__PURE__*/_jsx(\"br\",{}),selectedImages.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[selectedImages.length>100?/*#__PURE__*/_jsxs(\"p\",{className:\"error\",children:[\"You can't upload more than 100 images! \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{children:[\"please delete \",/*#__PURE__*/_jsxs(\"b\",{children:[\" \",selectedImages.length-100,\" \"]}),\" of them\",\" \"]})]}):/*#__PURE__*/_jsxs(\"button\",{className:\"upload-btn\",onClick:function onClick(){console.log(selectedImages);},children:[\"UPLOAD \",selectedImages.length,\" IMAGE\",selectedImages.length===1?\"\":\"S\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"delete-btn\",onClick:deleteSelectedImages,disabled:selectedImageIndexes.length===0,children:\"Delete Selected Images\"})]})]});};export default App;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","selectedImages","setSelectedImages","_useState3","_useState4","selectedImageIndexes","setSelectedImageIndexes","onSelectFile","event","selectedFiles","target","files","length","selectedFilesArray","Array","from","imagesArray","map","file","URL","createObjectURL","previousImages","concat","value","deleteHandler","image","filter","e","revokeObjectURL","toggleImageSelection","index","updatedSelectedImageIndexes","_toConsumableArray","includes","splice","indexOf","push","handleDragStart","dataTransfer","setData","handleDragOver","preventDefault","handleDrop","dragIndex","getData","updatedImages","movedImage","deleteSelectedImages","imagesToDelete","forEach","children","className","draggable","onDragStart","onDragOver","onDrop","type","onChange","checked","src","height","alt","onClick","name","multiple","accept","console","log","disabled"],"sources":["C:/Users/HP/Desktop/reactbal/Reactjs_project/src/App.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport \"./App.css\";\n\nconst App = () => {\n  const [selectedImages, setSelectedImages] = useState([]);\n  const [selectedImageIndexes, setSelectedImageIndexes] = useState([]);\n\n  const onSelectFile = (event) => {\n    const selectedFiles = event.target.files;\n\n    if (selectedFiles && selectedFiles.length > 0) {\n      const selectedFilesArray = Array.from(selectedFiles);\n\n      const imagesArray = selectedFilesArray.map((file) => {\n        return URL.createObjectURL(file);\n      });\n\n      setSelectedImages((previousImages) => previousImages.concat(imagesArray));\n\n      event.target.value = \"\";\n    }\n  };\n\n  function deleteHandler(image) {\n    setSelectedImages((previousImages) => previousImages.filter((e) => e !== image));\n    URL.revokeObjectURL(image);\n  }\n\n  const toggleImageSelection = (index) => {\n    const updatedSelectedImageIndexes = [...selectedImageIndexes];\n    if (updatedSelectedImageIndexes.includes(index)) {\n      updatedSelectedImageIndexes.splice(updatedSelectedImageIndexes.indexOf(index), 1);\n    } else {\n      updatedSelectedImageIndexes.push(index);\n    }\n    setSelectedImageIndexes(updatedSelectedImageIndexes);\n  };\n\n  const handleDragStart = (e, index) => {\n    e.dataTransfer.setData(\"index\", index);\n  };\n\n  const handleDragOver = (e, index) => {\n    e.preventDefault();\n  };\n\n  const handleDrop = (e, index) => {\n    e.preventDefault();\n    const dragIndex = e.dataTransfer.getData(\"index\");\n    const updatedImages = [...selectedImages];\n    const movedImage = updatedImages[dragIndex];\n    updatedImages.splice(dragIndex, 1);\n    updatedImages.splice(index, 0, movedImage);\n    setSelectedImages(updatedImages);\n  };\n\n  const deleteSelectedImages = () => {\n    const imagesToDelete = selectedImageIndexes.map((index) => selectedImages[index]);\n\n    setSelectedImages((previousImages) =>\n      previousImages.filter((image) => !imagesToDelete.includes(image))\n    );\n\n    imagesToDelete.forEach((image) => {\n      URL.revokeObjectURL(image);\n    });\n\n    setSelectedImageIndexes([]);\n  };\n\n  return (\n    <section>\n      <div className=\"images\">\n        {selectedImages &&\n          selectedImages.map((image, index) => (\n            <div\n              key={image}\n              className=\"image\"\n              draggable\n              onDragStart={(e) => handleDragStart(e, index)}\n              onDragOver={(e) => handleDragOver(e, index)}\n              onDrop={(e) => handleDrop(e, index)}\n            >\n              <input\n                type=\"checkbox\"\n                onChange={() => toggleImageSelection(index)}\n                checked={selectedImageIndexes.includes(index)}\n              />\n              <img src={image} height=\"200\" alt=\"upload\" />\n              <button onClick={() => deleteHandler(image)}>X</button>\n              <p>{index + 1}</p>\n            </div>\n          ))}\n      </div>\n  \n      <label>\n        + Add Images\n        <br />\n        <span></span>\n        <input\n          type=\"file\"\n          name=\"images\"\n          onChange={onSelectFile}\n          multiple\n          accept=\"image/png, image/jpeg, image/webp\"\n        />\n      </label>\n      <br />\n  \n      {selectedImages.length > 0 && (\n        <div>\n          {selectedImages.length > 100 ? (\n            <p className=\"error\">\n              You can't upload more than 100 images! <br />\n              <span>\n                please delete <b> {selectedImages.length - 100} </b> of them{\" \"}\n              </span>\n            </p>\n          ) : (\n            <button\n              className=\"upload-btn\"\n              onClick={() => {\n                console.log(selectedImages);\n              }}\n            >\n              UPLOAD {selectedImages.length} IMAGE\n              {selectedImages.length === 1 ? \"\" : \"S\"}\n            </button>\n          )}\n          <button\n            className=\"delete-btn\"\n            onClick={deleteSelectedImages}\n            disabled={selectedImageIndexes.length === 0}\n          >\n            Delete Selected Images\n          </button>\n        </div>\n      )}\n    </section>\n  \n  );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}